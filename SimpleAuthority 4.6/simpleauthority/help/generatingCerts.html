<!DOCTYPE html>
<html>
<head>
  <meta name="generator" content="HTML Tidy for HTML5 for Mac OS X version 5.0.0">
  <link rel="stylesheet" type="text/css" href="style.css">
  <title>SimpleAuthority Help - Generating Certificates</title>
</head>
<body>
  <div id="nav">
    <div id="nav_image">
      <a href="http://simpleauthority.com"><img src="images/SimpleAuthority.png" alt="logo"></a>
    </div>
    <div id="nav_heading">
      <h1>SimpleAuthority<br>
      Help&nbsp;Pages</h1>
    </div>
    <ul class="nav">
      <li class="navitem">
        <a href="gettingStarted.html">Getting&nbsp;Started</a>
      </li>
      <li class="navsubitem">
        <a href="gettingStarted.html#mainWindow">The&nbsp;main&nbsp;window</a>
      </li>
      <li class="navsubitem">
        <a href="gettingStarted.html#generatingCerts">Generating&nbsp;certificates</a>
      </li>
      <li class="navsubitem">
        <a href="gettingStarted.html#fileTypes">File&nbsp;types</a>
      </li>
      <li class="navsubitem">
        <a href="gettingStarted.html#usingCerts">Using&nbsp;certificates</a>
      </li>
      <li class="navitem">
        <a href="generatingCA.html">Generating&nbsp;a&nbsp;CA</a>
      </li>
      <li class="navsubitem">
        <a href="generatingCA.html#newCa">How&nbsp;to&nbsp;generate&nbsp;a&nbsp;CA</a>
      </li>
      <li class="navsubitem">
        <a href="generatingCA.html#hierarchy">CA&nbsp;hierarchies</a>
      </li>
      <li class="navitem">
        <a href="managingUsers.html">Managing&nbsp;Users</a>
      </li>
      <li class="navsubitem">
        <a href="managingUsers.html#addRemoveUser">Adding&nbsp;and&nbsp;removing</a>
      </li>
      <li class="navsubitem">
        <a href="managingUsers.html#importing">Importing&nbsp;details</a>
      </li>
      <li class="navsubitem">
        <a href="managingUsers.html#userNames">User&nbsp;names</a>
      </li>
      <li class="navsubitem">
        <a href="managingUsers.html#inactiveUsers">Inactive&nbsp;users</a>
      </li>
      <li class="navitem">
        <a href="generatingCerts.html">Generating&nbsp;Certificates</a>
      </li>
      <li class="navsubitem">
        <a href="generatingCerts.html#expiringCerts">Certificate&nbsp;status</a>
      </li>
      <li class="navsubitem">
        <a href="generatingCerts.html#newCerts">New&nbsp;certificates</a>
      </li>
      <li class="navsubitem">
        <a href="generatingCerts.html#csr">Certificate&nbsp;signing&nbsp;requests</a>
      </li>
      <li class="navsubitem">
        <a href="generatingCerts.html#certTypes">Certificate&nbsp;types</a>
      </li>
      <li class="navsubitem">
        <a href="generatingCerts.html#customCertTypes">Custom&nbsp;certificate&nbsp;types</a>
      </li>
      <li class="navitem">
        <a href="managingCerts.html">Managing&nbsp;Certificates</a>
      </li>
      <li class="navsubitem">
        <a href="managingCerts.html#view">Viewing&nbsp;certificate&nbsp;details</a>
      </li>
      <li class="navsubitem">
        <a href="managingCerts.html#export">Exporting&nbsp;certificates</a>
      </li>
      <li class="navsubitem">
        <a href="managingCerts.html#directoryPublishing">Directory&nbsp;publishing</a>
      </li>
      <li class="navsubitem">
        <a href="managingCerts.html#revocation">Revoking&nbsp;certificates</a>
      </li>
      <li class="navsubitem">
        <a href="managingCerts.html#calendar">Expiry&nbsp;date&nbsp;calendar</a>
      </li>
      <li class="navsubitem">
        <a href="managingCerts.html#managingCertificates">Managing&nbsp;records</a>
      </li>
      <li class="navsubitem">
        <a href="managingCerts.html#managingIdentities">Managing&nbsp;identities</a>
      </li>
      <li class="navitem">
        <a href="commandLine.html">Command&nbsp;Line&nbsp;Interface</a>
      </li>
      <li class="navsubitem">
        <a href="commandLine.html#cliUse">Using&nbsp;the&nbsp;command&nbsp;line</a>
      </li>
      <li class="navsubitem">
        <a href="commandLine.html#cliCommands">Command&nbsp;line&nbsp;interface</a>
      </li>
      <li class="navsubitem">
        <a href="commandLine.html#cliArguments">Command&nbsp;line&nbsp;arguments</a>
      </li>
      <li class="navsubitem">
        <a href="commandLine.html#cliSystemProperties">System&nbsp;properties</a>
      </li>
      <li class="navsubitem">
        <a href="commandLine.html#cliReturnCodes">Return&nbsp;codes</a>
      </li>
      <li class="navsubitem">
        <a href="commandLine.html#cliServlet">Web&nbsp;application&nbsp;interface</a>
      </li>
      <li class="navitem">
        <a href="usingCerts.html">Using&nbsp;Certificates</a>
      </li>
      <li class="navsubitem">
        <a href="usingCerts.html#email">Secure&nbsp;email</a>
      </li>
      <li class="navsubitem">
        <a href="usingCerts.html#documents">Document&nbsp;signing</a>
      </li>
      <li class="navsubitem">
        <a href="usingCerts.html#vpn">VPN&nbsp;access</a>
      </li>
      <li class="navsubitem">
        <a href="usingCerts.html#clientSSL">Client&nbsp;SSL&nbsp;authentication</a>
      </li>
      <li class="navsubitem">
        <a href="usingCerts.html#serverSSL">Server&nbsp;SSL&nbsp;authentication</a>
      </li>
      <li class="navsubitem">
        <a href="usingCerts.html#code">Code&nbsp;signing</a>
      </li>
    </ul>
  </div>
  <div id="mainbody">
    <h1>Generating Certificates</h1>
    <h2 id="expiringCerts">Certificate status</h2>
    <p>The main window displays a list of users and the list of certificates for the selected user. In each case, the
    certificate status of the selected item is indicated by the coloured circle in the <b>Status</b> column:</p>
    <ul>
      <li style="list-style-image: url(images/green.png)">green means that the certificate is valid and is not going to
      expire soon</li>
      <li style="list-style-image: url(images/orange.png)">orange is a warning that the certificate is going to expire
      soon</li>
      <li style="list-style-image: url(images/red.png)">red means that the certificate has expired and can no longer be
      used.</li>
    </ul>
    <p>Circles that have a red cross over them (e.g. <img src="images/green_revoked.png" alt=
    "revoked certificate icon">) represent certificates that have been revoked and can therefore no longer be used. See
    <a href="managingCerts.html#revocation">revoking certificates</a> for details.</p>
    <p>Expired certificates can be hidden from view by selecting <b>View &gt; Hide Expired Certificates</b>.</p>
    <p>The certificate expiry warning period is configurable in Options/Preferences.<br>
    <br>
    <img class="indent" src="screenshots/PrefsViewOptions.png" align="middle" alt="screen shot"><br></p>
    <h2 id="newCerts">New certificates</h2>
    <p>A new certificate can be generated for the selected user by clicking on the <b>New Certificate</b> button or by
    selecting <b>File &gt; New Certificate</b>. The selected user must be active before a new certificate can be
    generated.</p>
    <p>The new certificate contents will be based on the current settings for the selected user, shown at the top right
    of the main window. The certificate key length and signature algorithm is controlled from <b>Default Certificate
    Settings</b> in Options/Preferences.</p>
    <p>Generating a new certificate involves generating the corresponding identity file (<code>.p12</code> for PKCS#12
    format). This file includes the private key, protected by a password. It is written to the output directory defined
    in the <b>Identity Files</b> section of Options/Preferences.</p>
    <p>The identity file password can be randomly generated or it can be set manually. When a randomly generated
    password is used the password is written to a text (<code>.txt</code>) file alongside the identity file.</p>
    <p>The <b>Identity Files</b> section of Options/Preferences also lets you control:</p>
    <ul>
      <li>if the certificate file (<code>.cer</code> for DER format) will also be written to the output directory -
      which can be useful if you need to distribute the certificate such as for encryption purposes</li>
      <li>the encoding format for new identity and certificate files - either PKCS#12/DER which is appropriate for most
      applications, PKCS#12/PKCS#7, or PEM with or without a password</li>
      <li>if a date stamp will be included in file names and key alias names - which can be used to help distinguish
      between old and new keys and certificates for the one user</li>
      <li>if a copy of the identity file should be retained for backup/future recovery purposes.</li>
    </ul>
    <p><br>
    <img class="indent" src="screenshots/PrefsIdentityFiles.png" align="middle" alt="screen shot"><br></p>
    <p>Once a new certificate has been generated, the identity file and corresponding password must be sent to the
    owner of the keys. For security reasons, these two pieces of information should not be sent together, and
    preferably not using the same communications channel. A recommended approach is to email the identity file to the
    user and to tell them or SMS them the password.</p>
    <h2 id="csr">Certificate signing requests</h2>
    <p>SimpleAuthority supports the processing of Certificate Signing Request (CSR) files. CSR files can be generated
    by applications including IIS, Cisco routers and most Hardware Security Modules (HSMs). They include information
    for a requested new certificate including the certificate public key.</p>
    <p>Select <b>Import &gt; Certificate Signing Request...</b> from the menu bar to process a certificate signing
    request. You will be prompted to select the resulting certificate type and the certificate validity period. You
    will also be given the option of using the original CSR request to specify the user certificate details, or
    overriding these with custom settings.</p>
    <p><br>
    <img class="indent" src="screenshots/ImportCSR.png" align="middle" alt="screen shot"><br></p>
    <p>Some certificate signing requests include certificate extensions that are requested for the final certificate.
    In these cases, an "Include extension requests from CSR" check box is provided for selecting whether the requested
    extensions should be included.</p>
    <p>When a certificate signing request is processed, a new user entry is automatically created if required to
    register the new certificate with.</p>
    <h2 id="certTypes">Certificate types</h2>
    <p>Certificates contain numerous fields, including extensions that provide additional information about a
    certificate owner and in some cases control what the certificate can and cannot be used for. To avoid having to
    work out what each extension does and which ones need to be used, SimpleAuthority uses "certificate types". The
    certificate type is effectively a template for what gets included in the certificate, as recommended by standards
    such as <a href="http://tools.ietf.org/html/rfc5280">rfc5280</a> and as required to maximise interoperability.</p>
    <p>The default certificate types are:</p>
    <ul>
      <li>General Purpose - suitable for secure email, VPN access, client SSL authentication, code signing and most
      other client applications</li>
      <li>SSL Server - designed to be used by a web server</li>
      <li>Certification Authority - intended for use by subordinate CAs (see <a href="generatingCA.html#hierarchy">CA
      hierarchies</a>)
      </li>
      <li>Self-Signed - the same as General Purpose certificates, except these certificates are self-signed instead of
      being signed by a Certification Authority (not recommended for use unless you have a specific need for
      self-signed certificates).</li>
    </ul>
    <h2 id="customCertTypes">Custom certificate types</h2>
    <p>(License required) Certificate types can be customised under <b>Certificate Types</b> in Options/Preferences, or
    by selecting <b>Advanced Settings...</b> when generating a new self-signed CA. The default certificate types
    (listed above) cannot be deleted or modified, however they can be copied to generate a new certificate type with
    customised settings.</p>
    <p><br>
    <img class="indent" src="screenshots/PrefsCertificateTypes.png" align="middle" alt="screen shot"><br></p>
    <p>Select <b>View</b>, <b>Edit</b> or <b>Copy</b> to open a dialog containing certificate type configuration
    settings.</p>
    <p><br>
    <img class="indent" src="screenshots/CustomCertificateType1.png" align="middle" alt="screen shot"><br></p>
    <p>The first few settings control the name of the certificate type, whether the certificate is self-signed or not,
    and the cryptographic algorithms to use. Following this are the user details that should be included in the
    certificate subject distinguished name, for identifying the owner of the certificate. The remaining settings relate
    to certificate extensions that may be included in the certificate. These control which extensions are used, whether
    or not an extension is marked as <b>critical</b>, and the extension contents.</p>
    <p>From <a href="http://tools.ietf.org/html/rfc5280">rfc5280</a>, marking an extension as <b>critical</b> has the
    following effect:</p>
    <p><em>A certificate-using system MUST reject the certificate if it encounters a critical extension it does not
    recognize or a critical extension that contains information that it cannot process. A non-critical extension MAY be
    ignored if it is not recognized, but MUST be processed if it is recognized.</em></p>
    <p>A summary of what each of the certificate extensions is used for is shown below. Refer to <a href=
    "http://tools.ietf.org/html/rfc5280">rfc5280</a> for further details.</p>
    <table border="1" cellspacing="0" cellpadding="5">
      <tr bgcolor="#DDDDDD">
        <th>Extension name</th>
        <th>Recommendation</th>
        <th>Details</th>
      </tr>
      <tr>
        <td>Authority Key Identifier</td>
        <td>Include, mark non-critical</td>
        <td>Includes a hash of the issuing CA public key, which is useful for security applications when constructing
        certificate chain paths.</td>
      </tr>
      <tr>
        <td>Subject Key Identifier</td>
        <td>Include, mark non-critical</td>
        <td>Includes a hash of the certificate public key, which is useful for security applications when constructing
        certificate chain paths.</td>
      </tr>
      <tr>
        <td>Key Usage</td>
        <td>Include, mark critical</td>
        <td>Specifies what the certificate can be used for.</td>
      </tr>
      <tr>
        <td>Certificate Policies</td>
        <td>Include if needed</td>
        <td>Includes information about the organisational policy under which the certificate has been issued. Includes
        an Object Identifier (OID) that uniquely identifies the policy. Optionally also includes a URI to the
        Certification Practice Statement (CPS) document and/or summary text that is included in the certificate.</td>
      </tr>
      <tr>
        <td>Subject Alternative Name</td>
        <td>Include if needed, mark non-critical</td>
        <td>
          Includes extra information about the user. Can be used to specify one or more Email Address, DNS Name, URI or
          IP Address values (see <a href="managingUsers.html">Managing Users</a> for specifying multiple values). Must
          be included in the certificate to specify a user's email address if the certificate is used for secure email
          (S/MIME) purposes.
        </td>
      </tr>
      <tr>
        <td>Basic Constraints</td>
        <td>Include, mark critical for CA certificates</td>
        <td>Identifies whether the certificate can act as a CA, i.e. issue other certificates.</td>
      </tr>
      <tr>
        <td>Extended Key Usage</td>
        <td>Include only if use must be restricted</td>
        <td>Provides restrictions on what the certificate can be used for beyond the Key Usage extension. If this
        extension is included, then a certificate may only be used in a manner that is consistent with both the Key
        Usage and Extended Key Usage values.</td>
      </tr>
    </table>
  </div>
</body>
</html>
